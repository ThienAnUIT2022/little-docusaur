---
title: "Tools of the Trade: Linux and SQL - Week 2 (3)"
sidebar_position: 22
---

## Qu·∫£n l√Ω quy·ªÅn trong Linux üîêüêß

Trong ph·∫ßn n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu v·ªÅ c√°ch qu·∫£n l√Ω quy·ªÅn truy c·∫≠p file v√† th∆∞ m·ª•c trong Linux, c√πng v·ªõi c√°c l·ªánh gi√∫p b·∫°n hi·ªÉn th·ªã v√† thay ƒë·ªïi c√°c quy·ªÅn n√†y. ƒê·∫∑c bi·ªát, ch√∫ng ta s·∫Ω xem x√©t m·ªôt v√≠ d·ª• v·ªÅ c√°ch √°p d·ª•ng **nguy√™n t·∫Øc ƒë·∫∑c quy·ªÅn t·ªëi thi·ªÉu** (principle of least privilege) trong th·ª±c t·∫ø.

### Hi·ªÉu v·ªÅ quy·ªÅn truy c·∫≠p üîç

Trong Linux, quy·ªÅn truy c·∫≠p ƒë∆∞·ª£c bi·ªÉu di·ªÖn b·∫±ng m·ªôt chu·ªói 10 k√Ω t·ª±. C√°c quy·ªÅn bao g·ªìm:

- **read (r)**: Cho ph√©p ƒë·ªçc n·ªôi dung file ho·∫∑c li·ªát k√™ n·ªôi dung th∆∞ m·ª•c.
- **write (w)**: Cho ph√©p ch·ªânh s·ª≠a n·ªôi dung file ho·∫∑c t·∫°o file m·ªõi trong th∆∞ m·ª•c.
- **execute (x)**: Cho ph√©p th·ª±c thi file (n·∫øu l√† file ch∆∞∆°ng tr√¨nh) ho·∫∑c truy c·∫≠p v√†o th∆∞ m·ª•c.

C√°c quy·ªÅn n√†y ƒë∆∞·ª£c √°p d·ª•ng cho ba lo·∫°i ng∆∞·ªùi d√πng:

- **user (u)**: Ch·ªß s·ªü h·ªØu c·ªßa file.
- **group (g)**: Nh√≥m ng∆∞·ªùi d√πng m√† ch·ªß s·ªü h·ªØu thu·ªôc v·ªÅ.
- **other (o)**: T·∫•t c·∫£ ng∆∞·ªùi d√πng kh√°c tr√™n h·ªá th·ªëng.

### Ki·ªÉm tra quy·ªÅn hi·ªán c√≥ üïµÔ∏è

B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng l·ªánh `ls` ƒë·ªÉ ki·ªÉm tra quy·ªÅn truy c·∫≠p c·ªßa c√°c file v√† th∆∞ m·ª•c. M·ªôt s·ªë t√πy ch·ªçn h·ªØu √≠ch c·ªßa `ls` bao g·ªìm:

- **`ls -a`**: Hi·ªÉn th·ªã c√°c file ·∫©n (b·∫Øt ƒë·∫ßu b·∫±ng d·∫•u `.`).
- **`ls -l`**: Hi·ªÉn th·ªã chi ti·∫øt quy·ªÅn truy c·∫≠p, t√™n ch·ªß s·ªü h·ªØu, nh√≥m, k√≠ch th∆∞·ªõc file v√† th·ªùi gian ch·ªânh s·ª≠a.
- **`ls -la`**: K·∫øt h·ª£p c·∫£ hai t√πy ch·ªçn tr√™n, hi·ªÉn th·ªã quy·ªÅn truy c·∫≠p v√† c·∫£ file ·∫©n.

### Thay ƒë·ªïi quy·ªÅn v·ªõi `chmod` üîß

Nguy√™n t·∫Øc ƒë·∫∑c quy·ªÅn t·ªëi thi·ªÉu y√™u c·∫ßu ch·ªâ c·∫•p quy·ªÅn truy c·∫≠p t·ªëi thi·ªÉu c·∫ßn thi·∫øt ƒë·ªÉ th·ª±c hi·ªán c√¥ng vi·ªác. L·ªánh `chmod` gi√∫p b·∫°n thay ƒë·ªïi quy·ªÅn truy c·∫≠p tr√™n file v√† th∆∞ m·ª•c.

- **C√∫ ph√°p**: `chmod <c√°ch_thay_ƒë·ªïi> <t√™n_file_ho·∫∑c_th∆∞_m·ª•c>`

  V√≠ d·ª•:

  - Th√™m quy·ªÅn ƒë·ªçc, ghi v√† th·ª±c thi cho t·∫•t c·∫£ ng∆∞·ªùi d√πng:  
    `chmod u+rwx,g+rwx,o+rwx login_sessions.txt`
  - X√≥a t·∫•t c·∫£ quy·ªÅn:  
    `chmod u-rwx,g-rwx,o-rwx login_sessions.txt`
  - G√°n quy·ªÅn ch·ªâ ƒë·ªçc cho t·∫•t c·∫£ ng∆∞·ªùi d√πng:  
    `chmod u=r,g=r,o=r login_sessions.txt`

#### C√°c k√Ω t·ª± trong `chmod`

| K√Ω t·ª± | M√¥ t·∫£                                      |
| ----- | ------------------------------------------ |
| u     | Thay ƒë·ªïi quy·ªÅn cho ch·ªß s·ªü h·ªØu (user)       |
| g     | Thay ƒë·ªïi quy·ªÅn cho nh√≥m (group)            |
| o     | Thay ƒë·ªïi quy·ªÅn cho ng∆∞·ªùi d√πng kh√°c (other) |
| +     | Th√™m quy·ªÅn                                 |
| -     | X√≥a quy·ªÅn                                  |
| =     | G√°n quy·ªÅn ch√≠nh x√°c nh∆∞ ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh      |

### V√≠ d·ª• th·ª±c t·∫ø: √Åp d·ª•ng nguy√™n t·∫Øc ƒë·∫∑c quy·ªÅn t·ªëi thi·ªÉu üõ°Ô∏è

Gi·∫£ s·ª≠ b·∫°n c√≥ file `bonuses.txt` trong th∆∞ m·ª•c `compensation`. Ch·ªß s·ªü h·ªØu file l√† `hrrep1` thu·ªôc nh√≥m `hr`. B·∫°n c·∫ßn ƒë·∫£m b·∫£o ch·ªâ `hrrep1` c√≥ quy·ªÅn truy c·∫≠p file n√†y, trong khi c√°c th√†nh vi√™n kh√°c trong nh√≥m `hr` kh√¥ng c·∫ßn quy·ªÅn n√†y.

- **B∆∞·ªõc 1**: Ki·ªÉm tra quy·ªÅn hi·ªán t·∫°i b·∫±ng `ls -l`.  
  K·∫øt qu·∫£: `-rw-rw----` (nh√≥m `hr` c√≥ quy·ªÅn ƒë·ªçc v√† ghi).

- **B∆∞·ªõc 2**: S·ª≠ d·ª•ng `chmod` ƒë·ªÉ x√≥a quy·ªÅn ƒë·ªçc v√† ghi c·ªßa nh√≥m:  
  `chmod g-rw bonuses.txt`

K·∫øt qu·∫£: Ch·ªâ `hrrep1` c√≥ quy·ªÅn truy c·∫≠p file, ƒë·∫£m b·∫£o nguy√™n t·∫Øc ƒë·∫∑c quy·ªÅn t·ªëi thi·ªÉu.

### K·∫øt lu·∫≠n üìå

Qu·∫£n l√Ω quy·ªÅn truy c·∫≠p l√† m·ªôt ph·∫ßn quan tr·ªçng trong c√¥ng vi·ªác c·ªßa nh√† ph√¢n t√≠ch b·∫£o m·∫≠t. S·ª≠ d·ª•ng `ls -l` v√† `ls -la` gi√∫p b·∫°n ki·ªÉm tra quy·ªÅn truy c·∫≠p, trong khi `chmod` cho ph√©p b·∫°n thay ƒë·ªïi quy·ªÅn ƒë·ªÉ ƒë·∫£m b·∫£o ch√∫ng tu√¢n th·ªß nguy√™n t·∫Øc ƒë·∫∑c quy·ªÅn t·ªëi thi·ªÉu.

---

## S·ª≠ d·ª•ng `sudo` m·ªôt c√°ch c√≥ tr√°ch nhi·ªám üîêüêß

Trong ph·∫ßn n√†y, ch√∫ng ta s·∫Ω ti·∫øp t·ª•c kh√°m ph√° c√°ch qu·∫£n l√Ω x√°c th·ª±c (authentication) v√† ·ªßy quy·ªÅn (authorization) trong Linux b·∫±ng c√°c l·ªánh nh∆∞ `sudo`, `useradd`, `userdel`, `usermod`, v√† `chown`. ƒê·∫∑c bi·ªát, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch s·ª≠ d·ª•ng `sudo` m·ªôt c√°ch c√≥ tr√°ch nhi·ªám ƒë·ªÉ tr√°nh c√°c r·ªßi ro b·∫£o m·∫≠t.

### T·∫°i sao n√™n s·ª≠ d·ª•ng `sudo`? üõ°Ô∏è

- **`sudo`** cho ph√©p ng∆∞·ªùi d√πng th·ª±c thi l·ªánh v·ªõi quy·ªÅn cao h∆°n m√† kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p v·ªõi t∆∞ c√°ch **root user**.
- **Root user** c√≥ to√†n quy·ªÅn tr√™n h·ªá th·ªëng, nh∆∞ng vi·ªác s·ª≠ d·ª•ng t√†i kho·∫£n root c√≥ th·ªÉ g√¢y ra r·ªßi ro b·∫£o m·∫≠t n·∫øu b·ªã t·∫•n c√¥ng. Ngo√†i ra, h·ªá th·ªëng kh√¥ng th·ªÉ theo d√µi ai ƒë√£ th·ª±c thi l·ªánh khi s·ª≠ d·ª•ng root.
- **`sudo`** gi√∫p gi·∫£m thi·ªÉu r·ªßi ro b·∫±ng c√°ch ch·ªâ c·∫•p quy·ªÅn cao h∆°n t·∫°m th·ªùi v√† ghi l·∫°i l·ªãch s·ª≠ l·ªánh.

### S·ª≠ d·ª•ng `sudo` m·ªôt c√°ch an to√†n üö®

- **Ch·ªâ c·∫•p quy·ªÅn `sudo` cho nh·ªØng ng∆∞·ªùi d√πng th·ª±c s·ª± c·∫ßn thi·∫øt**: Gi·ªëng nh∆∞ vi·ªác ch·ªâ c·∫•p ch√¨a kh√≥a t·ªïng cho nh√¢n vi√™n c·∫ßn thi·∫øt trong kh√°ch s·∫°n, ch·ªâ nh·ªØng ng∆∞·ªùi d√πng c·∫ßn th·ª±c hi·ªán c√°c t√°c v·ª• qu·∫£n tr·ªã m·ªõi n√™n c√≥ quy·ªÅn `sudo`.
- **H·∫°n ch·∫ø s·ª≠ d·ª•ng `sudo` v·ªõi c√°c l·ªánh kh√¥ng c·∫ßn thi·∫øt**: Ch·ªâ s·ª≠ d·ª•ng `sudo` khi th·ª±c s·ª± c·∫ßn thi·∫øt ƒë·ªÉ tr√°nh c√°c l·ªói kh√¥ng mong mu·ªën ho·∫∑c t·∫°o ra l·ªó h·ªïng b·∫£o m·∫≠t.

### Qu·∫£n l√Ω ng∆∞·ªùi d√πng v√† quy·ªÅn s·ªü h·ªØu file üõ†Ô∏è

1. **`useradd`**: Th√™m ng∆∞·ªùi d√πng m·ªõi

   - **C√∫ ph√°p c∆° b·∫£n**: `sudo useradd <t√™n_ng∆∞·ªùi_d√πng>`
   - **T√πy ch·ªçn**:
     - `-g`: Ch·ªâ ƒë·ªãnh nh√≥m ch√≠nh (primary group) cho ng∆∞·ªùi d√πng. V√≠ d·ª•: `sudo useradd -g security fgarcia`.
     - `-G`: Th√™m ng∆∞·ªùi d√πng v√†o c√°c nh√≥m b·ªï sung (supplemental groups). V√≠ d·ª•: `sudo useradd -G finance,admin fgarcia`.

2. **`usermod`**: Ch·ªânh s·ª≠a th√¥ng tin ng∆∞·ªùi d√πng

   - **C√∫ ph√°p c∆° b·∫£n**: `sudo usermod <t√πy_ch·ªçn> <t√™n_ng∆∞·ªùi_d√πng>`
   - **T√πy ch·ªçn**:
     - `-g`: Thay ƒë·ªïi nh√≥m ch√≠nh. V√≠ d·ª•: `sudo usermod -g executive fgarcia`.
     - `-G`: Th√™m ng∆∞·ªùi d√πng v√†o nh√≥m b·ªï sung (k·∫øt h·ª£p v·ªõi `-a` ƒë·ªÉ kh√¥ng ghi ƒë√® nh√≥m hi·ªán c√≥). V√≠ d·ª•: `sudo usermod -a -G marketing fgarcia`.
     - `-d`: Thay ƒë·ªïi th∆∞ m·ª•c home c·ªßa ng∆∞·ªùi d√πng. V√≠ d·ª•: `sudo usermod -d /home/garcia_f fgarcia`.
     - `-L`: Kh√≥a t√†i kho·∫£n ng∆∞·ªùi d√πng, ngƒÉn h·ªç ƒëƒÉng nh·∫≠p.

3. **`userdel`**: X√≥a ng∆∞·ªùi d√πng

   - **C√∫ ph√°p c∆° b·∫£n**: `sudo userdel <t√™n_ng∆∞·ªùi_d√πng>`
   - **T√πy ch·ªçn**:
     - `-r`: X√≥a c·∫£ th∆∞ m·ª•c home c·ªßa ng∆∞·ªùi d√πng. V√≠ d·ª•: `sudo userdel -r fgarcia`.

4. **`chown`**: Thay ƒë·ªïi quy·ªÅn s·ªü h·ªØu file/th∆∞ m·ª•c

   - **C√∫ ph√°p c∆° b·∫£n**: `sudo chown <t√™n_ng∆∞·ªùi_d√πng>:<t√™n_nh√≥m> <t√™n_file>`
   - **V√≠ d·ª•**:
     - Thay ƒë·ªïi ch·ªß s·ªü h·ªØu file: `sudo chown fgarcia access.txt`.
     - Thay ƒë·ªïi nh√≥m s·ªü h·ªØu file: `sudo chown :security access.txt`.

### K·∫øt lu·∫≠n üìå

- **X√°c th·ª±c (authentication)** l√† qu√° tr√¨nh x√°c minh danh t√≠nh ng∆∞·ªùi d√πng, trong khi **·ªßy quy·ªÅn (authorization)** l√† qu√° tr√¨nh x√°c ƒë·ªãnh quy·ªÅn truy c·∫≠p c·ªßa h·ªç.
- **`sudo`** l√† c√¥ng c·ª• m·∫°nh m·∫Ω gi√∫p b·∫°n th·ª±c hi·ªán c√°c t√°c v·ª• qu·∫£n tr·ªã m√† kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p v·ªõi t∆∞ c√°ch root.
- C√°c l·ªánh nh∆∞ `useradd`, `usermod`, `userdel`, v√† `chown` gi√∫p b·∫°n qu·∫£n l√Ω ng∆∞·ªùi d√πng v√† quy·ªÅn s·ªü h·ªØu file m·ªôt c√°ch hi·ªáu qu·∫£, ƒë·∫£m b·∫£o tu√¢n th·ªß nguy√™n t·∫Øc b·∫£o m·∫≠t.

---

## T√†i nguy√™n h·ªó tr·ª£ Linux üåêüêß

### C·ªông ƒë·ªìng Linux to√†n c·∫ßu üåç

- **C·ªông ƒë·ªìng tr·ª±c tuy·∫øn**: Linux c√≥ m·ªôt c·ªông ƒë·ªìng ng∆∞·ªùi d√πng l·ªõn tr√™n to√†n c·∫ßu. B·∫°n c√≥ th·ªÉ d·ªÖ d√†ng t√¨m ki·∫øm c√¢u tr·∫£ l·ªùi cho c√°c v·∫•n ƒë·ªÅ c·ªßa m√¨nh th√¥ng qua c√°c di·ªÖn ƒë√†n, blog, v√† trang h·ªèi ƒë√°p.
- **Unix and Linux Stack Exchange**: ƒê√¢y l√† m·ªôt ngu·ªìn t√†i nguy√™n ƒë√°ng tin c·∫≠y ƒë·ªÉ kh·∫Øc ph·ª•c s·ª± c·ªë Linux. C√°c th√†nh vi√™n c·ªông ƒë·ªìng ƒë·∫∑t c√¢u h·ªèi v√† b√¨nh ch·ªçn cho c√°c c√¢u tr·∫£ l·ªùi ch·∫•t l∆∞·ª£ng cao. ƒê√¢y l√† n∆°i l√Ω t∆∞·ªüng ƒë·ªÉ t√¨m ki·∫øm gi·∫£i ph√°p cho c√°c v·∫•n ƒë·ªÅ k·ªπ thu·∫≠t ph·ª©c t·∫°p.

### C√°c l·ªánh h·ªó tr·ª£ t√≠ch h·ª£p trong Linux üõ†Ô∏è

#### 1. **`man`**: Hi·ªÉn th·ªã h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng l·ªánh

- **C√∫ ph√°p**: `man <t√™n_l·ªánh>`
- **V√≠ d·ª•**: `man chown` hi·ªÉn th·ªã th√¥ng tin chi ti·∫øt v·ªÅ l·ªánh `chown`, bao g·ªìm c√°c t√πy ch·ªçn v√† c√°ch s·ª≠ d·ª•ng.
- **Man page**: K·∫øt qu·∫£ tr·∫£ v·ªÅ t·ª´ l·ªánh `man` ƒë∆∞·ª£c g·ªçi l√† "man page", cung c·∫•p h∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ l·ªánh.

#### 2. **`apropos`**: T√¨m ki·∫øm t·ª´ kh√≥a trong m√¥ t·∫£ c·ªßa man page

- **C√∫ ph√°p**: `apropos <t·ª´_kh√≥a>`
- **V√≠ d·ª•**: `apropos graph` t√¨m ki·∫øm c√°c man page c√≥ ch·ª©a t·ª´ "graph" trong m√¥ t·∫£.
- **T√πy ch·ªçn `-a`**: T√¨m ki·∫øm nhi·ªÅu t·ª´ kh√≥a c√πng l√∫c. V√≠ d·ª•: `apropos -a graph editor`.

#### 3. **`whatis`**: Hi·ªÉn th·ªã m√¥ t·∫£ ng·∫Øn g·ªçn v·ªÅ l·ªánh

- **C√∫ ph√°p**: `whatis <t√™n_l·ªánh>`
- **V√≠ d·ª•**: `whatis nano` hi·ªÉn th·ªã m√¥ t·∫£ ng·∫Øn g·ªçn v·ªÅ l·ªánh `nano`.
- **C√¥ng d·ª•ng**: H·ªØu √≠ch khi b·∫°n ch·ªâ c·∫ßn m·ªôt m√¥ t·∫£ ng·∫Øn g·ªçn v·ªÅ l·ªánh, kh√¥ng c·∫ßn th√¥ng tin chi ti·∫øt.

### K·∫øt lu·∫≠n üìå

- **C·ªông ƒë·ªìng Linux** l√† ngu·ªìn t√†i nguy√™n v√¥ gi√° ƒë·ªÉ h·ªçc h·ªèi v√† gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ k·ªπ thu·∫≠t. C√°c trang nh∆∞ **Unix and Linux Stack Exchange** l√† n∆°i l√Ω t∆∞·ªüng ƒë·ªÉ ƒë·∫∑t c√¢u h·ªèi v√† t√¨m ki·∫øm c√¢u tr·∫£ l·ªùi.
- C√°c l·ªánh t√≠ch h·ª£p nh∆∞ `man`, `apropos`, v√† `whatis` gi√∫p b·∫°n nhanh ch√≥ng t√¨m hi·ªÉu c√°ch s·ª≠ d·ª•ng c√°c l·ªánh v√† gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ k·ªπ thu·∫≠t.

### T√†i nguy√™n tham kh·∫£o th√™m üìö

- **Unix and Linux Stack Exchange**: [https://unix.stackexchange.com/](https://unix.stackexchange.com/)
- **C√°c di·ªÖn ƒë√†n v√† blog Linux**: T√¨m ki·∫øm tr·ª±c tuy·∫øn ƒë·ªÉ kh√°m ph√° th√™m nhi·ªÅu ngu·ªìn t√†i nguy√™n h·ªØu √≠ch kh√°c.
